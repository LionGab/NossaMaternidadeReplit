name: üì± iOS Preview Release
description: Preparar e distribuir vers√£o preview do iOS para teste (influenciadora)
title: "[iOS Preview] Release v"
labels: ["release", "ios", "preview"]
assignees: []

body:
  - type: markdown
    attributes:
      value: |
        ## üéØ Objetivo
        Criar um build iOS Ad Hoc (preview) para distribui√ß√£o interna e teste com influenciadora.

        **IMPORTANTE**: Este build N√ÉO ser√° publicado na App Store. √â apenas para testes internos.

  - type: input
    id: version
    attributes:
      label: Vers√£o do App
      description: Vers√£o que ser√° gerada (formato semantic versioning)
      placeholder: "1.0.0"
    validations:
      required: true

  - type: input
    id: build_number
    attributes:
      label: Build Number (iOS)
      description: N√∫mero do build que ser√° incrementado
      placeholder: "3"
    validations:
      required: true

  - type: dropdown
    id: release_type
    attributes:
      label: Tipo de Release
      description: Qual perfil EAS ser√° usado?
      options:
        - ios_preview (Ad Hoc - Teste Interno)
        - ios_testflight (TestFlight - Store)
    validations:
      required: true

  - type: textarea
    id: test_devices
    attributes:
      label: Dispositivos de Teste (UDIDs)
      description: Lista de UDIDs que devem ter acesso a este build
      value: |
        - 00008140-001655C03C50801C (Influenciadora)
      placeholder: "- UDID1\n- UDID2"
    validations:
      required: true

  - type: textarea
    id: features
    attributes:
      label: Novas Features / Mudan√ßas
      description: O que h√° de novo nesta vers√£o?
      placeholder: |
        - Feature 1
        - Feature 2
        - Corre√ß√£o de bug X
    validations:
      required: true

  - type: checkboxes
    id: pre_build_checklist
    attributes:
      label: ‚úÖ Checklist Pr√©-Build
      description: Itens obrigat√≥rios antes de iniciar o build
      options:
        - label: Vers√£o atualizada em `app.config.js`
          required: true
        - label: Build number incrementado em `app.config.js`
          required: true
        - label: Changelog atualizado em `CHANGELOG.md`
          required: false
        - label: Secrets do EAS configurados (EXPO_PUBLIC_*, RevenueCat, Supabase)
          required: true
        - label: Testes locais passando
          required: false
        - label: Code review aprovado
          required: false

  - type: checkboxes
    id: apple_developer_checklist
    attributes:
      label: üçé Apple Developer Portal
      description: Configura√ß√µes necess√°rias no portal da Apple
      options:
        - label: UDID(s) adicionado(s) ao provisioning profile
          required: true
        - label: Certificado de distribui√ß√£o v√°lido
          required: true
        - label: Profile Ad Hoc criado/atualizado (para ios_preview)
          required: false

  - type: textarea
    id: build_commands
    attributes:
      label: üì¶ Comandos de Build
      description: Comandos que ser√£o executados
      value: |
        ```bash
        # Verificar configura√ß√£o
        npm run prepare-ios-preview

        # Executar build no EAS
        eas build --platform ios --profile ios_preview

        # Ap√≥s aprova√ß√£o, build para TestFlight
        # eas build --platform ios --profile ios_testflight
        ```
      render: bash
    validations:
      required: false

  - type: checkboxes
    id: post_build_checklist
    attributes:
      label: üöÄ Checklist P√≥s-Build
      description: Ap√≥s o build completar no EAS
      options:
        - label: Build completado com sucesso no EAS
        - label: Link de instala√ß√£o obtido
        - label: QR Code gerado (se aplic√°vel)
        - label: Link enviado para influenciadora
        - label: Instru√ß√µes de instala√ß√£o enviadas (IOS_PREVIEW_INFLUENCER.md)

  - type: checkboxes
    id: smoke_tests
    attributes:
      label: üß™ Smoke Tests
      description: Testes b√°sicos ap√≥s instala√ß√£o
      options:
        - label: App instala corretamente
        - label: App abre sem crashes
        - label: Login/Signup funciona
        - label: Navega√ß√£o principal funciona
        - label: Features cr√≠ticas testadas

  - type: textarea
    id: distribution_info
    attributes:
      label: üì≤ Informa√ß√µes de Distribui√ß√£o
      description: Ser√° preenchido ap√≥s o build
      placeholder: |
        **EAS Build ID**: [id]
        **Link de Instala√ß√£o**: [url]
        **QR Code**: [url]
        **Enviado para**: 
        - Influenciadora (via WhatsApp/Email)
        - Testadores internos
      render: markdown

  - type: textarea
    id: test_results
    attributes:
      label: üìã Resultados dos Testes
      description: Feedback da influenciadora e testadores
      placeholder: |
        - ‚úÖ Funcionalidade X testada - OK
        - ‚ö†Ô∏è Bug encontrado em Y
        - üí° Sugest√£o de melhoria em Z

  - type: textarea
    id: notes
    attributes:
      label: üìù Notas Adicionais
      description: Qualquer informa√ß√£o adicional relevante
      placeholder: "Observa√ß√µes, problemas conhecidos, pr√≥ximos passos..."

  - type: markdown
    attributes:
      value: |
        ---
        ## üìö Documenta√ß√£o de Refer√™ncia

        - [RELEASE_PACKET.md](../docs/RELEASE_PACKET.md) - Template completo de release
        - [IOS_PREVIEW_INFLUENCER.md](../docs/IOS_PREVIEW_INFLUENCER.md) - Guia de instala√ß√£o
        - [EAS Documentation](https://docs.expo.dev/build/introduction/)
        - [App Store Connect](https://appstoreconnect.apple.com/apps/6756980888)
